<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"/>
        <meta name="author" content=""/>
        <meta name="copyright" content=""/>
        <meta name="robots" content="all"/>
        <meta name="keywords" content=""/>
        <meta name="description" content=""/>
        <title>数据库</title>
        <!-- css -->
        <style type="text/css">
            *{margin: 0;padding: 0}
            body{font-size: 16px;}
            li{list-style: none;}
            button{border-style: none;background-color: transparent;outline: none;cursor: pointer;}
            input{outline: none;}
            .view{max-width: 720px;margin: auto;}
            header{z-index: 10;position: fixed;top: 0;left: 0;width: 100%;height: 4rem;line-height: 4rem;background-color: #000;color: #fff;text-align: center;}
            .add-btn{z-index: 10;position: absolute;right: 0;top: 0;height: 100%;font-size: 1.2rem;padding: 0 1rem;display: inline-block;color: #fff;}
            header>h1{font-size: 1.5rem}
            .content{padding: 5rem 0 7rem;}
            .search-section{z-index: 20;position: fixed;left: 0;bottom: 3rem;width: 100%;padding: 1rem 0;text-align: center;}
            .search-area{font-size: 1rem;padding: 0.5em;border:none;border-bottom: 2px solid transparent;-webkit-transition:all 0.5s;}
            .search-area:focus{border-bottom: 2px solid #ef7446}
            .search-btn{font-size: 1.2rem;padding: 0.3em 1.5em;margin-left: 0.5rem;background-color: #ef7446;color: #fff;border-radius: 0.2em;-webkit-transition:all 0.2s;}
            .search-btn:active{background: #f10000;}
            .list{font-size: 1.4rem;padding-left: 2rem}
            .list>li{padding: 0.5rem}
            footer{z-index: 10;position: fixed;bottom: 0;left: 0;width: 100%;height: 3rem;line-height: 3rem;text-align: center;background-color: #000;color: #aaa}
        </style>
        <!-- javascript -->
    </head>
    <body>
        <div class="view">
            <header>
                <h1>数据库</h1>
                <button class="add-btn">新增</button>
            </header>
            <section class="content">
                <ol class="list js-list">
                    <li>1.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>1.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>2.<label>1548548548</label>：<span>1542</span></li>
                    <li>5.<label>1548548548</label>：<span>1542</span></li>
                </ol>
            </section>
            <section class="search-section">
                <input class="search-area js-input" placeholder="请输入号码">
                <button class="search-btn">查询</button>
            </section>
            <footer>
                lut000版权所有
            </footer>
        </div>
        <!-- script -->
        <script type="text/javascript">
            var sp={
                getEle:function(str,op,type){                                            //获取元素
                    var opar=document;
                    var a=this;
                    if(arguments.length>1 && typeof op =="object"){
                        opar=op;
                    }
                    if(str && typeof str =="string"){
                        if(document.querySelectorAll){
                            return type?opar.querySelectorAll(str):opar.querySelector(str);
                        }else{
                            return type?opar.getElementsByTagName(str):opar.getElementById(str);
                        }
                    }else{
                        return null;
                    }
                },
                getSto:function(sto_name){                  //获取本地存储
                    var a=sp;
                    if(window.localStorage){
                        // 支持localStorage
                        var val=localStorage.getItem(sto_name);
                        if(val==="undefined"){
                            return "undefined";
                        }else if(typeof val === "number"){
                            return val;
                        }else if(val){
                            return JSON.parse(val)?JSON.parse(val):"";
                        }
                    }
                },
                setSto:function(sto_name,data){                 // 存储本地
                    var a=sp;
                    if(window.localStorage){
                        localStorage.setItem(sto_name,JSON.stringify(data));
                    }
                },
                delSto:function(sto_name){                  // 删除本地存储
                    var a=sp;
                    if(window.localStorage){
                        if(localStorage.getItem(sto_name)){
                            localStorage.removeItem(sto_name);
                        }
                    }
                },
            };

            window.onload=function(){
                var arr=sp.getSto("data_source") || [

                    {
                        number:1854848,
                        pass:1545
                    }
                ];
                
                var def={
                    tag:sp.getEle(".js-list"),
                    area_ele:sp.getEle(".js-input"),
                    data:[],
                    fn:{
                        getArr:function(arr,val){
                            var len=arr.length,re_arr=[];
                            if(len>0){
                                var re=new RegExp("^"+val+"","i");
                                var num="",pass="";
                                for(var i=0;i<len;i++){
                                    num=arr[i]["number"];
                                    pass=arr[i]["pass"];
                                    if(re.test()){
                                        re_arr.push({
                                            number:num,
                                            pass:pass
                                        })
                                    }
                                }
                                return re_arr;
                            }
                        },
                        setDom:function(arr){
                            
                        }
                    }
                };
                // var len=
                console.log(def)

                // 事件绑定
                def.area_ele.oninput=def.area_ele.onpropertychange=function(){
                    var val=this.value;
                    val=val.replace(/\s/g,"");
                    if(val==""){
                        return;
                    }
                    var narr=def.fn.getArr(arr,val);
                    def.fn.setDom(narr);
                }

            };
        </script>
    </body>
</html>